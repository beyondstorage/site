[Amazon S3](https://aws.amazon.com/s3/)

## Config

### Servicer

| Name | Required | Comments |
| ---- | -------- | -------- |
| [credential](go-storage/pairs/credential.md) | Y | support `hmac` and `env` protocol |
| force_path_style | N | virtual hosting of buckets |
| disable_100_continue | N | to disable the SDK adding the `Expect: 100-Continue` header to PUT requests over 2MB of content |
| use_accelerate | N | s3 accelerate feature |
| use_arn_region | N | use the region specified in the ARN |

### Storager

| Name | Required | Comments |
| ---- | -------- | -------- |
| [name](go-storage/pairs/name.md) | Y | bucket name |
| [work_dir](go-storage/pairs/work_dir.md) | N | work dir |
| [location](go-storage/pairs/location.md) | Y | bucket location |

## Example

Init servicer

```yaml
credential: hmac:<account_name>:<account_key>
```

Init storager

```yaml
credential: hmac:<account_name>:<account_key>
name: <container_name>
work_dir: /<work_dir>
location: <bucket_location>
```

## Pairs

### Server-Side Encryption (SSE)

#### Encrypt Object

| Name                   | Comments                                                     |
| ---------------------- | ------------------------------------------------------------ |
| bucket_key_enabled     | whether Amazon S3 should use an S3 Bucket Key for object encryption with server-side encryption using AWS KMS (SSE-KMS) |
| excepted_bucket_owner  | the account ID of the excepted bucket owner                  |
| sse_customer_algorithm | the algorithm to use to when encrypting the object           |
| sse_customer_key       | the customer-provided encryption key to decrypt the source object |
| sse_customer_key_md5   | the 128-bit MD5 digest of the encryption key                 |
| sse_kms_key_id         | the AWS KMS key ID to use for object encryption              |
| server_side_encryption | the server-side encryption algorithm used when storing this object in Amazon. Only AES256 and aws:kms are supported now. |

##### Supported Operations

servicer

- [Delete](../operations/servicer/delete.md): `excepted_bucket_owner`.

storager

- [Read](../operations/storager/read.md): `excepted_bucket_owner`, `bucket_key_enabled`, `sse_customer_algorithm`, `sse_customer_key`, `sse_customer_key_md5`.
- [Stat](../operations/storager/stat.md): `excepted_bucket_owner`, `sse_customer_algorithm`, `sse_customer_key`, `sse_customer_key_md5`.
- [Write](../operations/storager/write.md): `excepted_bucket_owner`, `bucket_key_enabled`, `sse_customer_algorithm`, `sse_customer_key`, `sse_customer_key_md5`, `sse_kms_key_id`, `server_side_encryption`.
- [List](../operations/storager/list.md): `excepted_bucket_owner`.
- [Delete](../operations/storager/delete.md): `excepted_bucket_owner`.
- [CreateMultipart](../operations/multiparter/create_multipart.md): `bucket_key_enabled`, `excepted_bucket_owner`, `sse_customer_algorithm`, `sse_customer_key`, `sse_customer_key_md5`, `sse_kms_key_id`, `server_side_encryption`.
- [WriteMultipart](../operations/multiparter/write_multipart.md): `excepted_bucket_owner`, `sse_customer_algorithm`, `sse_customer_key`, `sse_customer_key_md5`.
- [ListMultipart](../operations/multiparter/list_multipart.md): `excepted_bucket_owner`.
- [CompleteMultipart](../operations/multiparter/complete_multipart.md): `excepted_bucket_owner`.