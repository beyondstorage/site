"use strict";(self.webpackChunksite=self.webpackChunksite||[]).push([[1561],{3905:function(e,t,n){n.d(t,{Zo:function(){return d},kt:function(){return c}});var r=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var p=r.createContext({}),s=function(e){var t=r.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},d=function(e){var t=s(e.components);return r.createElement(p.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,a=e.originalType,p=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),m=s(n),c=o,h=m["".concat(p,".").concat(c)]||m[c]||u[c]||a;return n?r.createElement(h,i(i({ref:t},d),{},{components:n})):r.createElement(h,i({ref:t},d))}));function c(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=n.length,i=new Array(a);i[0]=m;var l={};for(var p in t)hasOwnProperty.call(t,p)&&(l[p]=t[p]);l.originalType=e,l.mdxType="string"==typeof e?e:o,i[1]=l;for(var s=2;s<a;s++)i[s]=n[s];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}m.displayName="MDXCreateElement"},2328:function(e,t,n){n.r(t),n.d(t,{assets:function(){return d},contentTitle:function(){return p},default:function(){return c},frontMatter:function(){return l},metadata:function(){return s},toc:function(){return u}});var r=n(7462),o=n(3366),a=(n(7294),n(3905)),i=["components"],l={title:"2021-23 Weekly Report",author:"Prnyself",author_url:"https://github.com/Prnyself",tags:["updates","weekly-report"]},p=void 0,s={permalink:"/blog/2021/06/11/weekly-report",editUrl:"https://github.com/beyondstorage/site/edit/master/blog/2021-06-11-weekly-report.md",source:"@site/blog/2021-06-11-weekly-report.md",title:"2021-23 Weekly Report",description:"Hello everyone, here is the weekly report for BeyondStorage, range from 2021-06-07 to 2021-06-11.",date:"2021-06-11T00:00:00.000Z",formattedDate:"June 11, 2021",tags:[{label:"updates",permalink:"/blog/tags/updates"},{label:"weekly-report",permalink:"/blog/tags/weekly-report"}],readingTime:3.035,truncated:!0,authors:[{name:"Prnyself",url:"https://github.com/Prnyself"}],prevItem:{title:"2021-24 Weekly Report",permalink:"/blog/2021/06/21/weekly-report"},nextItem:{title:"2021-22 Weekly Report",permalink:"/blog/2021/06/04/weekly-report"}},d={authorsImageUrls:[void 0]},u=[{value:"Application",id:"application",children:[{value:"New UI Design",id:"new-ui-design",children:[]}]},{value:"Library",id:"library",children:[{value:"Go-storage v4.1.0 Released",id:"go-storage-v410-released",children:[]},{value:"Add ObjectMode Pair",id:"add-objectmode-pair",children:[]},{value:"Add Maximum File Size for Storage Write",id:"add-maximum-file-size-for-storage-write",children:[]}]},{value:"Community",id:"community",children:[{value:"Summer 2021 of Open Source Promotion Plan",id:"summer-2021-of-open-source-promotion-plan",children:[]}]}],m={toc:u};function c(e){var t=e.components,n=(0,o.Z)(e,i);return(0,a.kt)("wrapper",(0,r.Z)({},m,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"Hello everyone, here is the weekly report for ",(0,a.kt)("a",{parentName:"p",href:"https://beyondstorage.io"},"BeyondStorage"),", range from 2021-06-07 to 2021-06-11."),(0,a.kt)("h2",{id:"application"},"Application"),(0,a.kt)("h3",{id:"new-ui-design"},"New UI Design"),(0,a.kt)("p",null,"This week we have finalised the new UI design, including the main colours and page styles. "),(0,a.kt)("p",null,"Thanks for our designer, check the ",(0,a.kt)("a",{parentName:"p",href:"https://www.figma.com/file/xSri76AIgzMUA3Gxs11GO0/Data-Migration-UI-Design?node-id=4%3A180"},"draft"),"\nand feel free to express your idea or advice.   "),(0,a.kt)("h2",{id:"library"},"Library"),(0,a.kt)("h3",{id:"go-storage-v410-released"},"Go-storage v4.1.0 Released"),(0,a.kt)("p",null,"The new version v4.1.0 of ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/beyondstorage/go-storage"},"go-storage")," was ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/beyondstorage/go-storage/releases/tag/v4.1.0"},"released")," at 2021-06-08, in which we:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"Added:\n    cmd/definitions: Implement GSP-87 Feature Gates (#586)\n    cmd/definitions: Implement GSP-93 Add ObjectMode Pair (#592)\nFixed:\n    cmd/definitions: Fix storage features not generated (#588)\n")),(0,a.kt)("p",null,"For more, we introduced our project to developers at this Wednesday, here is ",(0,a.kt)("a",{parentName:"p",href:"https://docs.google.com/presentation/d/13Wm4d4OqO0WJ9Y0ZZ7NsjvfLqDilSkGX94qc1e7w87k/edit#slide=id.p"},"the slides"),"."),(0,a.kt)("h3",{id:"add-objectmode-pair"},"Add ObjectMode Pair"),(0,a.kt)("p",null,"We have introduced ",(0,a.kt)("inlineCode",{parentName:"p"},"ObjectMode")," in ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/beyondstorage/specs/blob/master/rfcs/25-object-mode.md"},"GSP-25: Object Mode"),":"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-go"},"type ObjectMode uint32\n\nconst (\n    ModeIrregular ObjectMode = 0\n    ModeDir ObjectMode = 1 << iota\n    ModeRead\n    ModeLink\n)\n")),(0,a.kt)("p",null,"But it's not enough, we need ",(0,a.kt)("inlineCode",{parentName:"p"},"ObjectMode")," pair too. For example, the ",(0,a.kt)("inlineCode",{parentName:"p"},"Create")," operation needs ",(0,a.kt)("inlineCode",{parentName:"p"},"ObjectMode")," to create a new object.\nAnd ",(0,a.kt)("inlineCode",{parentName:"p"},"ObjectMode")," COULD be used as input restriction for operations. "),(0,a.kt)("p",null,"For example:\nIn services like s3 which doesn't have native ",(0,a.kt)("inlineCode",{parentName:"p"},"CreateDir")," support, we usually simulated it via creating an object that ends with ",(0,a.kt)("inlineCode",{parentName:"p"},"/"),". But the behavior doesn't work in ",(0,a.kt)("inlineCode",{parentName:"p"},"Stat")," and ",(0,a.kt)("inlineCode",{parentName:"p"},"Delete"),"."),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"If user call ",(0,a.kt)("inlineCode",{parentName:"li"},'Stat("test")')," after ",(0,a.kt)("inlineCode",{parentName:"li"},'CreateDir("test")'),", he will get ",(0,a.kt)("inlineCode",{parentName:"li"},"ObjectNotExist")," error."),(0,a.kt)("li",{parentName:"ul"},"If user call ",(0,a.kt)("inlineCode",{parentName:"li"},'Delete("test")')," after ",(0,a.kt)("inlineCode",{parentName:"li"},'CreateDir("test")'),", no object will be removed and ",(0,a.kt)("inlineCode",{parentName:"li"},"test/")," will be kept in service.")),(0,a.kt)("p",null,"So ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/Xuanwo"},"@xuanwo")," made this proposal:\n",(0,a.kt)("a",{parentName:"p",href:"https://github.com/beyondstorage/specs/blob/master/rfcs/93-add-object-mode-pair.md"},"GSP-93: Add ObjectMode Pair")," to add the ",(0,a.kt)("inlineCode",{parentName:"p"},"ObjectMode")," pair,\nand this pair COULD be used in the following operations:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"Create"),": set the output object's ",(0,a.kt)("inlineCode",{parentName:"li"},"ObjectMode")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"Stat"),": ObjectMode hint, returns error if ",(0,a.kt)("inlineCode",{parentName:"li"},"ObjectMode")," not meet."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"Delete"),": ObjectMode hint")),(0,a.kt)("p",null,"For ",(0,a.kt)("inlineCode",{parentName:"p"},"Stat")," and ",(0,a.kt)("inlineCode",{parentName:"p"},"Delete")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Service SHOULD use the ",(0,a.kt)("inlineCode",{parentName:"li"},"ObjectMode")," pair as a hint."),(0,a.kt)("li",{parentName:"ul"},"Service could have different implementations for different ",(0,a.kt)("inlineCode",{parentName:"li"},"ObjectMode"),".")),(0,a.kt)("p",null,"Take ",(0,a.kt)("inlineCode",{parentName:"p"},"s3")," as an example, we simulate ",(0,a.kt)("inlineCode",{parentName:"p"},"CreateDir")," via creating object ends with ",(0,a.kt)("inlineCode",{parentName:"p"},"/"),". ",(0,a.kt)("inlineCode",{parentName:"p"},'CreateDir("test")')," will create an object ",(0,a.kt)("inlineCode",{parentName:"p"},"test/")," in s3. And we can"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"stat this object via ",(0,a.kt)("inlineCode",{parentName:"li"},'Stat("test", pairs.WithObjectMode(types.ObjectModeDir))')),(0,a.kt)("li",{parentName:"ul"},"delete this object via ",(0,a.kt)("inlineCode",{parentName:"li"},'Delete("test", pairs.WithObjectMode(types.ObjectModeDir))'))),(0,a.kt)("p",null,"For more details, please refer\nto ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/beyondstorage/go-storage/issues/591"},"Implement GSP-93: Add ObjectMode Pair"),"."),(0,a.kt)("h3",{id:"add-maximum-file-size-for-storage-write"},"Add Maximum File Size for Storage Write"),(0,a.kt)("p",null,"Depending on the size of the data you are uploading, services offer different options,\nlike upload a file in a single operation, in parts, or through append operation."),(0,a.kt)("p",null,"We use ",(0,a.kt)("inlineCode",{parentName:"p"},"Write")," to handle single write operation, and the size is not unlimited."),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"S3 alike storage services have 5GB limit for a single PUT operation."),(0,a.kt)("li",{parentName:"ul"},"azblob limited to 5000 MiB(",(0,a.kt)("a",{parentName:"li",href:"https://docs.microsoft.com/en-us/rest/api/storageservices/put-blob"},"https://docs.microsoft.com/en-us/rest/api/storageservices/put-blob"),").")),(0,a.kt)("p",null,"If we upload a file with size out of limit in a single operation, we will get an error like ",(0,a.kt)("inlineCode",{parentName:"p"},"Request Entity Too Large")," in azblob. Same with ",(0,a.kt)("inlineCode",{parentName:"p"},"copy"),",",(0,a.kt)("inlineCode",{parentName:"p"},"fetch"),", etc."),(0,a.kt)("p",null,"We should figure out the error before sending request to reduce the consumption of network resources."),(0,a.kt)("p",null,"So ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/JinnyYi"},"@JinnyYi")," made this proposal ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/beyondstorage/specs/pull/97"},"GSP-97: Add Maximum File Size for Storage Write"),"\nto add maximum size restriction as service related metadata for storage operations."),(0,a.kt)("p",null,"This proposal is still a draft, and any comments are welcome."),(0,a.kt)("h2",{id:"community"},"Community"),(0,a.kt)("h3",{id:"summer-2021-of-open-source-promotion-plan"},"Summer 2021 of Open Source Promotion Plan"),(0,a.kt)("p",null,"This week, we got more new hands join in, and the discussion group is getting more and more active.\nYou are welcome to keep an eye on our forum: ",(0,a.kt)("a",{parentName:"p",href:"https://forum.beyondstorage.io/"},"https://forum.beyondstorage.io/"),", where all event-related announcements will be posted."),(0,a.kt)("p",null,"For convenience, ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/xxchan"},"@xxchan")," added ",(0,a.kt)("a",{parentName:"p",href:"https://beyondstorage.io/community/events/ospp-summer-2021#qa"},"Q&A")," at community's website.\nYou can also add more questions at ",(0,a.kt)("a",{parentName:"p",href:"https://forum.beyondstorage.io/t/ospp-2021-q-a-collection/86"},"OSPP 2021 Q&A collection"),"."),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Notice"),": The deadline for registration for the program is 13th June. Please submit your application asap. "),(0,a.kt)("p",null,"For more details, please refer to ",(0,a.kt)("a",{parentName:"p",href:"https://beyondstorage.io/community/events/ospp-summer-2021"},"https://beyondstorage.io/community/events/ospp-summer-2021"),"."),(0,a.kt)("hr",null))}c.isMDXComponent=!0}}]);