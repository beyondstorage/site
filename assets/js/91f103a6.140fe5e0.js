"use strict";(self.webpackChunksite=self.webpackChunksite||[]).push([[2599],{3905:function(e,t,r){r.d(t,{Zo:function(){return u},kt:function(){return c}});var o=r(7294);function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){if(null==e)return{};var r,o,n=function(e,t){if(null==e)return{};var r,o,n={},a=Object.keys(e);for(o=0;o<a.length;o++)r=a[o],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)r=a[o],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var p=o.createContext({}),l=function(e){var t=o.useContext(p),r=t;return e&&(r="function"==typeof e?e(t):i(i({},t),e)),r},u=function(e){var t=l(e.components);return o.createElement(p.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},m=o.forwardRef((function(e,t){var r=e.components,n=e.mdxType,a=e.originalType,p=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),m=l(r),c=n,h=m["".concat(p,".").concat(c)]||m[c]||d[c]||a;return r?o.createElement(h,i(i({ref:t},u),{},{components:r})):o.createElement(h,i({ref:t},u))}));function c(e,t){var r=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var a=r.length,i=new Array(a);i[0]=m;var s={};for(var p in t)hasOwnProperty.call(t,p)&&(s[p]=t[p]);s.originalType=e,s.mdxType="string"==typeof e?e:n,i[1]=s;for(var l=2;l<a;l++)i[l]=r[l];return o.createElement.apply(null,i)}return o.createElement.apply(null,r)}m.displayName="MDXCreateElement"},5297:function(e,t,r){r.r(t),r.d(t,{assets:function(){return u},contentTitle:function(){return p},default:function(){return c},frontMatter:function(){return s},metadata:function(){return l},toc:function(){return d}});var o=r(7462),n=r(3366),a=(r(7294),r(3905)),i=["components"],s={title:"2021-21 Weekly Report",author:"JinnyYi",author_url:"https://github.com/JinnyYi",tags:["updates","weekly-report"]},p=void 0,l={permalink:"/blog/2021/05/28/weekly-report",editUrl:"https://github.com/beyondstorage/site/edit/master/blog/2021-05-28-weekly-report.md",source:"@site/blog/2021-05-28-weekly-report.md",title:"2021-21 Weekly Report",description:"Hello everyone, here is the weekly report for BeyondStorage, range from 2021-05-24 to 2021-05-28.",date:"2021-05-28T00:00:00.000Z",formattedDate:"May 28, 2021",tags:[{label:"updates",permalink:"/blog/tags/updates"},{label:"weekly-report",permalink:"/blog/tags/weekly-report"}],readingTime:2.7,truncated:!0,authors:[{name:"JinnyYi",url:"https://github.com/JinnyYi"}],prevItem:{title:"2021-22 Weekly Report",permalink:"/blog/2021/06/04/weekly-report"},nextItem:{title:"Why and what's Beyond Storage",permalink:"/blog/2021/05/21/beyondstorage"}},u={authorsImageUrls:[void 0]},d=[{value:"Application",id:"application",children:[{value:"dm",id:"dm",children:[]}]},{value:"Library",id:"library",children:[{value:"Add CreateLink Operation",id:"add-createlink-operation",children:[]},{value:"Feature Gates",id:"feature-gates",children:[]},{value:"go-storage",id:"go-storage",children:[]}]},{value:"Community",id:"community",children:[{value:"Summer 2021 of Open Source Promotion Plan",id:"summer-2021-of-open-source-promotion-plan",children:[]}]}],m={toc:d};function c(e){var t=e.components,r=(0,n.Z)(e,i);return(0,a.kt)("wrapper",(0,o.Z)({},m,r,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"Hello everyone, here is the weekly report for ",(0,a.kt)("a",{parentName:"p",href:"https://beyondstorage.io"},"BeyondStorage"),", range from 2021-05-24 to 2021-05-28."),(0,a.kt)("h2",{id:"application"},"Application"),(0,a.kt)("h3",{id:"dm"},"dm"),(0,a.kt)("h4",{id:"add-identity-management-apis"},"Add identity management APIs"),(0,a.kt)("p",null,"As we mentioned in ",(0,a.kt)("a",{parentName:"p",href:"https://beyondstorage.io/blog/2021/05/21/weekly-report"},"last week's report"),", ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/Prnyself"},"@Prnyself")," proposed ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/beyondstorage/dm/pull/69"},"DMP-69: Add identity management APIs")," to add identity management APIs and the ",(0,a.kt)("inlineCode",{parentName:"p"},"credential")," information can be reused by resolving the ",(0,a.kt)("inlineCode",{parentName:"p"},"identity"),". This week ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/Prnyself"},"@Prnyself")," implemented it. You can refer to ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/beyondstorage/dm/issues/66"},"Implement DMP-69 Add identity management APIs")," for more details."),(0,a.kt)("h4",{id:"add-list-staffs-api"},"Add list staffs API"),(0,a.kt)("p",null,"When creating a task, we should choose on which staff the task run. For now, we have already inserted staffID into DB, so we should support an listStaffs API for frontend to list all available staffs."),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://github.com/Prnyself"},"@Prnyself")," made the proposal ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/beyondstorage/dm/blob/staff-api-spec/docs/specs/71-add-list-staffs-api.md"},"DMP-71: Add list staffs API")," to design the list staff API to be called by the front-end, whose definition is as follows:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-graphql"},"type Query {\n    staffs: [Staff!]!\n}\ntype Staff {\n    id: String!\n}\n")),(0,a.kt)("p",null,"In this way, when ",(0,a.kt)("inlineCode",{parentName:"p"},"createTask")," is called, the ",(0,a.kt)("inlineCode",{parentName:"p"},"staffID")," could be filled by the result of ",(0,a.kt)("inlineCode",{parentName:"p"},"listStaffs"),"."),(0,a.kt)("p",null,"For more details, please refer to ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/beyondstorage/dm/issues/67"},"Add support for staff management"),"."),(0,a.kt)("h2",{id:"library"},"Library"),(0,a.kt)("h3",{id:"add-createlink-operation"},"Add CreateLink Operation"),(0,a.kt)("p",null,"We have ",(0,a.kt)("inlineCode",{parentName:"p"},"ModeLink")," for Object which means this Object is a link which targets to another Object. A link object could be returned in ",(0,a.kt)("inlineCode",{parentName:"p"},"Stat")," or ",(0,a.kt)("inlineCode",{parentName:"p"},"List"),". But there is no way to create a link object."),(0,a.kt)("p",null,"Link related support is very different in different services, so ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/Xuanwo"},"@Xuanwo")," proposed ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/beyondstorage/specs/pull/86"},"GSP-86: Add CreateLink Operation")," to add a new ",(0,a.kt)("inlineCode",{parentName:"p"},"CreateLink")," operation."),(0,a.kt)("p",null,"To ensure it doesn't conflict with 'PairPolicy', ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/Xuanwo"},"@Xuanwo")," proposed ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/beyondstorage/specs/pull/87"},"GSP-87: Feature Gates")," described as the following section."),(0,a.kt)("p",null,"Keep your eyes on the proposal as it is still in production."),(0,a.kt)("h3",{id:"feature-gates"},"Feature Gates"),(0,a.kt)("p",null,"Behavior consistence is the most important thing for ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/beyondstorage/go-storage"},"go-storage"),". However, we do have different capabilities and limitations in storage services."),(0,a.kt)("p",null,"Our goals are:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Behavior consistent by default (invalid operations should be return error)"),(0,a.kt)("li",{parentName:"ul"},"Give user abilities to loose the restriction"),(0,a.kt)("li",{parentName:"ul"},"Allow user to enable the features they want")),(0,a.kt)("p",null,"Even though we have introduced ",(0,a.kt)("inlineCode",{parentName:"p"},"loose mode")," and ",(0,a.kt)("inlineCode",{parentName:"p"},"PairPolicy"),", they don't solve the problem."),(0,a.kt)("p",null,"So ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/Xuanwo"},"@Xuanwo")," proposed ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/beyondstorage/specs/pull/87"},"GSP-87: Feature Gates")," to treat loose behavior consistence as a feature, and introduce feature gates in ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/beyondstorage/go-storage"},"go-storage"),"."),(0,a.kt)("h4",{id:"new-feature-loose-operation"},"New Feature: Loose Operation"),(0,a.kt)("p",null,"By default, ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/beyondstorage/go-storage"},"go-storage")," will return errors for not supported pairs. If loose operation feature has been enabled, ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/beyondstorage/go-storage"},"go-storage")," will ignore those errors."),(0,a.kt)("p",null,"To enable loose operation, users need to add pairs like:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-go"},"s3.WithStorageFeatures(s3.StorageFeatures{\n    LooseOpeartionAll: true,\n    LooseOperationWrite: true,\n})\n")),(0,a.kt)("h4",{id:"new-feature-virtual-operation"},"New Feature: Virtual Operation"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-go"},"s3.WithStorageFeatures(s3.StorageFeatures{\n    VirtualOperationAll: true,\n})\n")),(0,a.kt)("h4",{id:"feature-struct"},"Feature Struct"),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://github.com/beyondstorage/go-storage"},"go-storage")," will generate feature structs for all services."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-go"},"type StorageFeatures struct {\n    LooseOpeartionAll bool\n    LooseOperationWrite bool\n    \n    VirtualOperationAll bool\n    VirtualOperationCreateDir bool\n}\n")),(0,a.kt)("p",null,"This proposal is now still implementing, for more details, please refer to ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/beyondstorage/specs/pull/87/#issuecomment-850280374"},"Implement GSP-87 Feature Gates"),"."),(0,a.kt)("h3",{id:"go-storage"},"go-storage"),(0,a.kt)("p",null,"We migrated library projects to ",(0,a.kt)("inlineCode",{parentName:"p"},"beyondstorage")," this week and released ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/beyondstorage/go-storage"},"go-storage")," v4.0.0."),(0,a.kt)("h2",{id:"community"},"Community"),(0,a.kt)("h3",{id:"summer-2021-of-open-source-promotion-plan"},"Summer 2021 of Open Source Promotion Plan"),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://forum.beyondstorage.io/t/summer-2021-of-open-source-promotion-plan/22"},"Summer 2021 of Open Source Promotion Plan")," has started. This week we entered the student application period and received some applications: ",(0,a.kt)("a",{parentName:"p",href:"https://forum.beyondstorage.io/t/ospp-2021-application-aggregation/56"},"https://forum.beyondstorage.io/t/ospp-2021-application-aggregation/56"),". Welcome to join us!"),(0,a.kt)("p",null,"You are welcome to keep an eye on our forum: ",(0,a.kt)("a",{parentName:"p",href:"https://forum.beyondstorage.io"},"https://forum.beyondstorage.io"),"."),(0,a.kt)("p",null,"For more details, please refer to ",(0,a.kt)("a",{parentName:"p",href:"https://beyondstorage.io/community/events/ospp-summer-2021"},"https://beyondstorage.io/community/events/ospp-summer-2021"),"."),(0,a.kt)("hr",null))}c.isMDXComponent=!0}}]);